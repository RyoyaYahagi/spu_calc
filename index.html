<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <!-- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ãŸã‚ã®ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆè¨­å®š -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥½å¤©ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒè¨ˆç®—æ©Ÿ</title>
    
    <style>
        /* ========================================
           åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«
        ======================================== */
        
        /* CSSå¤‰æ•°ã§ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’å®šç¾© */
        :root {
            --primary-color: #bf0000;      /* æ¥½å¤©ã‚«ãƒ©ãƒ¼ */
            --primary-hover: #9a0000;
            --bg-color: #f5f5f5;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-color: #dddddd;
            --result-bg: #fff8f8;
        }
        
        /* ãƒªã‚»ãƒƒãƒˆã¨ãƒœãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒ« */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Hiragino Sans', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
        }
        
        /* ========================================
           ã‚³ãƒ³ãƒ†ãƒŠãƒ»ã‚«ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«
        ======================================== */
        
        .container {
            max-width: 480px;
            margin: 0 auto;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* ========================================
           ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«
        ======================================== */
        
        h1 {
            color: var(--primary-color);
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        /* ========================================
           ãƒ•ã‚©ãƒ¼ãƒ ã‚¹ã‚¿ã‚¤ãƒ«
        ======================================== */
        
        .form-group {
            margin-bottom: 16px;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            font-size: 0.95rem;
        }
        
        /* ãƒ©ãƒ™ãƒ«ã®è£œè¶³ãƒ†ã‚­ã‚¹ãƒˆ */
        .label-hint {
            font-weight: normal;
            color: #666;
            font-size: 0.85rem;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        
        input[type="number"]:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        /* ========================================
           ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
        ======================================== */
        
        .btn-calculate {
            width: 100%;
            padding: 14px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 8px;
        }
        
        .btn-calculate:hover {
            background-color: var(--primary-hover);
        }
        
        .btn-calculate:active {
            transform: scale(0.98);
        }
        
        /* ========================================
           çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢
        ======================================== */
        
        .result {
            margin-top: 24px;
            padding: 20px;
            background-color: var(--result-bg);
            border-radius: 8px;
            border: 1px solid var(--primary-color);
            /* åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º */
            display: none;
        }
        
        .result.show {
            display: block;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
        }
        
        .result-item:not(:last-child) {
            border-bottom: 1px dashed var(--border-color);
        }
        
        .result-label {
            font-weight: 500;
        }
        
        .result-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* ========================================
           ãƒ•ãƒƒã‚¿ãƒ¼
        ======================================== */
        
        .footer {
            text-align: center;
            margin-top: 20px;
            font-size: 0.8rem;
            color: #888;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>ğŸ›’ æ¥½å¤©ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒè¨ˆç®—æ©Ÿ</h1>
            
            <!-- å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  -->
            <form id="calcForm">
                <!-- å•†å“ä¾¡æ ¼å…¥åŠ› -->
                <div class="form-group">
                    <label for="price">å•†å“ä¾¡æ ¼ <span class="label-hint">ï¼ˆç¨è¾¼ãƒ»å††ï¼‰</span></label>
                    <input type="number" id="price" placeholder="ä¾‹: 10000" min="0" required>
                </div>
                
                <!-- é€šå¸¸ãƒã‚¤ãƒ³ãƒˆå…¥åŠ› -->
                <div class="form-group">
                    <label for="basePoint">é€šå¸¸ãƒã‚¤ãƒ³ãƒˆ <span class="label-hint">ï¼ˆ%ï¼‰</span></label>
                    <input type="number" id="basePoint" placeholder="ä¾‹: 1" min="0" step="0.5" value="1">
                </div>
                
                <!-- SPUå€ç‡å…¥åŠ› -->
                <div class="form-group">
                    <label for="spuRate">SPUåˆè¨ˆå€ç‡ <span class="label-hint">ï¼ˆ%ï¼‰</span></label>
                    <input type="number" id="spuRate" placeholder="ä¾‹: 5" min="0" step="0.5" value="0">
                </div>
                
                <!-- ã‚·ãƒ§ãƒƒãƒ—ãƒã‚¤ãƒ³ãƒˆå…¥åŠ› -->
                <div class="form-group">
                    <label for="shopRate">ã‚·ãƒ§ãƒƒãƒ—ãƒã‚¤ãƒ³ãƒˆå€ç‡ <span class="label-hint">ï¼ˆ%ï¼‰</span></label>
                    <input type="number" id="shopRate" placeholder="ä¾‹: 2" min="0" step="0.5" value="0">
                </div>
                
                <!-- ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å€ç‡å…¥åŠ› -->
                <div class="form-group">
                    <label for="campaignRate">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å€ç‡ <span class="label-hint">ï¼ˆ%ï¼‰</span></label>
                    <input type="number" id="campaignRate" placeholder="ä¾‹: 10" min="0" step="0.5" value="0">
                </div>
                
                <!-- è¨ˆç®—ãƒœã‚¿ãƒ³ -->
                <button type="submit" class="btn-calculate">è¨ˆç®—ã™ã‚‹</button>
            </form>
            
            <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ï¼ˆåˆæœŸã¯éè¡¨ç¤ºï¼‰ -->
            <div class="result" id="result">
                <div class="result-item">
                    <span class="result-label">åˆè¨ˆé‚„å…ƒç‡</span>
                    <span class="result-value" id="totalRate">0%</span>
                </div>
                <div class="result-item">
                    <span class="result-label">ç²å¾—äºˆå®šãƒã‚¤ãƒ³ãƒˆ</span>
                    <span class="result-value" id="totalPoints">0 pt</span>
                </div>
            </div>
        </div>
        
        <p class="footer">â€» å®Ÿéš›ã®ç²å¾—ãƒã‚¤ãƒ³ãƒˆã¯å„ç¨®ä¸Šé™ç­‰ã«ã‚ˆã‚Šç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™</p>
    </div>
    
    <script>
        /* ========================================
           JavaScript - ãƒã‚¤ãƒ³ãƒˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
        ======================================== */
        
        /**
         * ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°
         * @param {number} price - å•†å“ä¾¡æ ¼
         * @param {number} basePoint - é€šå¸¸ãƒã‚¤ãƒ³ãƒˆç‡ï¼ˆ%ï¼‰
         * @param {number} spuRate - SPUå€ç‡ï¼ˆ%ï¼‰
         * @param {number} shopRate - ã‚·ãƒ§ãƒƒãƒ—ãƒã‚¤ãƒ³ãƒˆå€ç‡ï¼ˆ%ï¼‰
         * @param {number} campaignRate - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å€ç‡ï¼ˆ%ï¼‰
         * @returns {Object} - åˆè¨ˆé‚„å…ƒç‡ã¨ç²å¾—ãƒã‚¤ãƒ³ãƒˆ
         */
        function calculatePoints(price, basePoint, spuRate, shopRate, campaignRate) {
            // åˆè¨ˆé‚„å…ƒç‡ã‚’è¨ˆç®—ï¼ˆå„å€ç‡ã‚’åŠ ç®—ï¼‰
            const totalRate = basePoint + spuRate + shopRate + campaignRate;
            
            // ç²å¾—ãƒã‚¤ãƒ³ãƒˆã‚’è¨ˆç®—ï¼ˆå°æ•°ç‚¹ä»¥ä¸‹åˆ‡ã‚Šæ¨ã¦ï¼‰
            // æ¥½å¤©ãƒã‚¤ãƒ³ãƒˆã¯åŸå‰‡ã¨ã—ã¦1ãƒã‚¤ãƒ³ãƒˆå˜ä½ã§ä»˜ä¸
            const totalPoints = Math.floor(price * (totalRate / 100));
            
            return {
                totalRate: totalRate,
                totalPoints: totalPoints
            };
        }
        
        /**
         * æ•°å€¤ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹é–¢æ•°
         * @param {number} num - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹æ•°å€¤
         * @returns {string} - ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—
         */
        function formatNumber(num) {
            return num.toLocaleString('ja-JP');
        }
        
        /**
         * å…¥åŠ›å€¤ã‚’å–å¾—ã—ã¦Numberå‹ã«å¤‰æ›ã™ã‚‹é–¢æ•°
         * ç©ºæ¬„ã‚„NaNã®å ´åˆã¯0ã‚’è¿”ã™
         * @param {string} id - å…¥åŠ›è¦ç´ ã®ID
         * @returns {number} - æ•°å€¤
         */
        function getInputValue(id) {
            const value = parseFloat(document.getElementById(id).value);
            return isNaN(value) ? 0 : value;
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒªãƒƒã‚¹ãƒ³
        document.getElementById('calcForm').addEventListener('submit', function(event) {
            // ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé€ä¿¡ã‚’é˜²æ­¢
            event.preventDefault();
            
            // å„å…¥åŠ›å€¤ã‚’å–å¾—
            const price = getInputValue('price');
            const basePoint = getInputValue('basePoint');
            const spuRate = getInputValue('spuRate');
            const shopRate = getInputValue('shopRate');
            const campaignRate = getInputValue('campaignRate');
            
            // å•†å“ä¾¡æ ¼ãŒ0ä»¥ä¸‹ã®å ´åˆã¯ã‚¢ãƒ©ãƒ¼ãƒˆ
            if (price <= 0) {
                alert('å•†å“ä¾¡æ ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            // ãƒã‚¤ãƒ³ãƒˆè¨ˆç®—ã‚’å®Ÿè¡Œ
            const result = calculatePoints(price, basePoint, spuRate, shopRate, campaignRate);
            
            // çµæœã‚’ç”»é¢ã«è¡¨ç¤º
            document.getElementById('totalRate').textContent = result.totalRate + '%';
            document.getElementById('totalPoints').textContent = formatNumber(result.totalPoints) + ' pt';
            
            // çµæœã‚¨ãƒªã‚¢ã‚’è¡¨ç¤ºï¼ˆshowã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ï¼‰
            document.getElementById('result').classList.add('show');
        });
    </script>
</body>
</html>
